package DashBoard;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

/**
 * 작성자 : 이혜린 내용 : 게시글 리스트 조회 및 상세보기
 */
public class BoardRead {
	private List<Board> boardList = new ArrayList<Board>();

	public void loadData(String fileName) throws IOException {
		BufferedReader br = new BufferedReader(new FileReader(fileName));

		String line;
		while ((line = br.readLine()) != null) {
			String[] parts = line.split(",");
			int id = Integer.parseInt(parts[0].trim());
			String title = parts[1].trim();
			String content = parts[2].trim();
			String writer = parts[3].trim();
			String regDate = parts[4].trim();

			Board board = new Board(id, title, content, writer, regDate);
			boardList.add(board);
		}
		br.close();
	}

	public void postShowAll() {
		if (boardList.isEmpty()) {
			System.out.println("게시글이 없습니다.");
			return;
		}
		System.out.println("==== 게시글 목록 ====");
		for (Board board : boardList) {
			System.out.println(board);
		}
	}

	public void postShowDetail(int id) {
		for (Board board : boardList) {
			if (board.getId() == id) {
				System.out.println("==== 게시글 상세 ====");
				System.out.println("글번호: " + board.getId());
				System.out.println("제목: " + board.getTitle());
				System.out.println("작성자: " + board.getWriter());
				System.out.println("작성일: " + board.getRegDate());
				System.out.println("내용: " + board.getContent());
				return;
			}
		}
		System.out.println("해당 번호의 게시글이 존재하지 않습니다.");
	}
}
