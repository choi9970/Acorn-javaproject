package DashBoard;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Scanner;

class Board {
    private int id;
    private String title;
    private String content;
    private String writer;
    private String regDate;

    public Board(int id, String title, String content, String writer, String regDate) {
        this.id = id;
        this.title = title;
        this.content = content;
        this.writer = writer;
        this.regDate = regDate;
    }

    public int getId() { return id; }
    public String getTitle() { return title; }
    public String getContent() { return content; }
    public String getWriter() { return writer; }
    public String getRegDate() { return regDate; }

    public void setTitle(String title) { this.title = title; }
    public void setContent(String content) { this.content = content; }

    @Override
    public String toString() {
        return id + " | " + title + " | " + writer + " | " + regDate;
    }
}

public class Main {
	public static void main(String[] args) {
		Scanner sc =new Scanner(System.in);
		
		ArrayList<Board> list=new ArrayList<Board>();
		list.add(new Board(enterNumber(), "test", "test", "test", "test"));
		
		//파일쓰기
				try {
					FileWriter fw=new FileWriter("DataBase/data.csv");
					PrintWriter pw=new PrintWriter(fw);
					for (int i = 0; i < list.size(); i++) {
						pw.println(list.get(i).toCSV());
					}
					
					pw.close(); // 꼭 닫아줘야 함!
				    fw.close(); // 생략 가능(위에서 닫히지만 안전하게)
				} catch (IOException e) {
					e.printStackTrace();
				}
				
		
		
		
	}
	public static int enterNumber() {
		int firstCellLastLine = 0; // 마지막 줄의 첫번째 셀 저장용
		try {
			//문자기반의 기반 스트림
			FileReader fr = new FileReader("DataBase/data.csv");
			//보조스트림, 편리함제공
			BufferedReader br=new BufferedReader(fr);
			
			ArrayList<Board> list=new ArrayList<>();
			
			while (true) {
				String line= br.readLine();
				if (line==null) {
					break;
				}
				System.out.println(line);
				String[] parts=line.split(",");
	
	            firstCellLastLine = Integer.parseInt(parts[0]);
			}
			firstCellLastLine=firstCellLastLine+1;
			
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return firstCellLastLine;
	}

}
